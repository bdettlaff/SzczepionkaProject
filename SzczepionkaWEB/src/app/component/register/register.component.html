<nav class="navbar"></nav>
<div class="container">
  <h2>Rejestracja na szczepienie</h2>
  <form [formGroup]="registerForm">
    <div class="form-group">
      <label for="pesel">PESEL</label>
      <input type="text" class="form-control" formControlName="pesel" formControlName="pesel"  minlength="11" maxlength="11"/>
      <div *ngIf="registerForm.controls['pesel'].invalid && (registerForm.controls['pesel'].dirty || registerForm.controls['pesel'].touched)" class="alert alert-danger">
        <div *ngIf="registerForm.controls['pesel'].errors.required">
          Wprowadz pesel
        </div>
        <div *ngIf="registerForm.controls['pesel'].errors.minlength">
          Pesel powinien zawierać 11 cyfr
        </div>
      </div>

    </div>
    <div class="form-group">
      <label for="identificator">Numer Dowodu</label>
      <input type="text" formControlName="identificator" class="form-control" minlength="9" maxlength="9" required/>
      <div *ngIf="registerForm.controls['identificator'].invalid && (registerForm.controls['identificator'].dirty || registerForm.controls['identificator'].touched)" class="alert alert-danger">
        <div *ngIf="registerForm.controls['identificator'].errors.required">
          Wprowadz numer dowodu
        </div>
        <div *ngIf="registerForm.controls['identificator'].errors.minlength">
          Numer dowodu powinien zawierać 9 znaków
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="zipcode">Kod Pocztowy</label>
      <input type="text" formControlName="zipcode" class="form-control" maxlength="6" pattern="[0-9]{2}-[0-9]{3}" required/>
      <div *ngIf="registerForm.controls['zipcode'].invalid && (registerForm.controls['zipcode'].dirty || registerForm.controls['zipcode'].touched)" class="alert alert-danger">
        <div *ngIf="registerForm.controls['zipcode'].errors.required">
          Wprowadz kod pocztowy
        </div>
        <div *ngIf="registerForm.controls['zipcode'].errors.pattern">
          Kod pocztowy powinień być w formacie xx-xxx
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="referral">Skierowanie</label>
      <input type="text" formControlName="referral" class="form-control" required/>
      <div *ngIf="registerForm.controls['referral'].invalid && (registerForm.controls['referral'].dirty || registerForm.controls['referral'].touched)" class="alert alert-danger">
        <div *ngIf="registerForm.controls['referral'].errors.required">
          Wprowadz numer skierowania
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="email">Adres email</label>
      <input type="email" formControlName="email" class="form-control" pattern="[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$" required/>
      <div *ngIf="registerForm.controls['email'].invalid && (registerForm.controls['email'].dirty || registerForm.controls['email'].touched)" class="alert alert-danger">
        <div *ngIf="registerForm.controls['email'].errors.required">
          Wprowadz email
        </div>
        <div *ngIf="registerForm.controls['email'].errors.pattern">
          Wprowadz poprawny email
        </div>
      </div>
    </div>
    <div class="form-group button-container buttons-space">
      <button [disabled]="registerForm.invalid" class="btn btn-primary btn-color" type="submit" (click)="onSubmit()" >
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        Zarejestruj
      </button>
      <button [disabled]="loading" class="btn btn-secondary">
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        Profil Zaufany
      </button>
      <button [disabled]="loading" class="btn btn-secondary">
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        Rejestracja ZUS
      </button>
    </div>
  </form>
</div>
